<div class="base">
  <mat-card class="card">

    <mat-card-title>Dynamic validation on Reactive Form</mat-card-title>

    <div>
      <section align="end">
        <mat-button-toggle-group #group="matButtonToggleGroup">
          <mat-button-toggle (click)="openMail()">Email</mat-button-toggle>
          <mat-button-toggle (click)="openPhone()">Phone</mat-button-toggle>
        </mat-button-toggle-group>
      </section>
    </div>


    <mat-card-content>
      <form [formGroup]="regiForm">

        <ng-container *ngIf="showMail">
          <mat-form-field appearance="legacy" class="example-full-width">
            <mat-label for="email">Email</mat-label>
            <input matInput type="email" formControlName="email" placeholder="Enter your email">

            <mat-error *ngIf="email?.invalid && email?.touched">
              <mat-error *ngIf="email?.errors?.['required']">Email is required</mat-error>
              <mat-error *ngIf="email?.errors?.['pattern']">Enter a valid email address</mat-error>
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="legacy" class="example-full-width">
            <mat-label for="password">Password</mat-label>
            <input matInput type="password" formControlName="password" placeholder="Enter your password">
            <mat-error *ngIf="password?.invalid && password?.touched">
              <mat-error *ngIf="password?.errors?.['required']">Password is required</mat-error>
              <mat-error *ngIf="password?.errors?.['minlength']">Password must be 6 character long</mat-error>
            </mat-error>
          </mat-form-field>
        </ng-container>


        <ng-container *ngIf="!showMail">

          <mat-form-field appearance="legacy" class="example-full-width">
            <mat-label for="phone">Phone No.</mat-label>
            <input matInput type="number" formControlName="phone" placeholder="Enter your Phone No.">
            <mat-error *ngIf="phone?.invalid && phone?.touched">
              <mat-error *ngIf="phone?.errors?.['required']">Phone No. is required</mat-error>
              <mat-error *ngIf="phone?.errors?.['pattern']">Enter a valid Phone number</mat-error>
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="legacy" class="example-full-width">
            <mat-label for="password">Password</mat-label>
            <input matInput type="password" formControlName="password" placeholder="Enter your password">
            <mat-error *ngIf="password?.invalid  && password?.touched ">
              <mat-error *ngIf="password?.errors?.['required']">Password is required</mat-error>
              <mat-error *ngIf="password?.errors?.['minlength']">Password must be 6 character long</mat-error>
            </mat-error>
          </mat-form-field>

        </ng-container>

        <mat-card-actions class="center">
          <button mat-raised-button color="primary" class="btn" type="submit" (click)="onSubmit()"><i class="material-icons">login</i>Login</button>
        </mat-card-actions>
      </form>


    </mat-card-content>
  </mat-card>
</div>
